---
type: Constraint
spec:
  name: Replicated
  root: Universe
  requires:
    - ReplicatedDataSets
---
type: Constraint
spec:
  name: ReplicatedDataSets
  root: DataSet
  requires:
    - ReplicatedAssets
---
type: Constraint
spec:
  name: ReplicatedAssets
  root: Asset
  requires:
    - ReplicatedSchema
---
type: Constraint
spec:
  name: ReplicatedSchema
  root: StaticDataTable
  requires:
      - TableSchemasCreated
---
type: Constraint
spec:
  name: DataDownloadedAndConverted
  root: Universe
  requires:
    - ConvertCSVTableToORCTable
---
type: Constraint
spec:
  name: TableSchemasCreated
  root: HiveTableStorage
  requiresProgram: true
  requires:
    - HiveDirectoriesCreated
---
type: Constraint
spec:
  name: CSVTableSchemasCreated
  root: HiveTableStorage
  requiresProgram: true
  requires:
    - HiveDirectoriesCreated
    - UploadDataToLocal
---
type: Constraint
spec:
  name: HiveDirectoriesCreated
  root: AlluxioLocation
  requiresProgram: true
---
type: Constraint
spec:
  name: IsAuditedTable
  root: StaticDataTable
  requires:
    - Replicated
---
type: Constraint
spec:
  name: IsAudited
  root: Universe
  requires:
    - IsAuditedTable
---
type: Constraint
spec:
  name: ReplicatedData
  root: RemoteImportStorageSetup
  requires:
    - UploadDataToLocal
    - FileReadyForUpload
---
type: Constraint
spec:
  name: FileReadyForUpload
  root: RemoteImportStorageSetup
  requires:
    - RemoveFileHeader
---
type: Constraint
spec:
  name: DownloadDataFromRemote
  root: RemoteStorage
  requires:
    - DownloadDataFromRemoteGCSLocation
    - DownloadDataFromRemoteWebLocation
---
type: Constraint
spec:
  name: DownloadDataFromRemoteGCSLocation
  root: GCSLocation
  requiresProgram: true
---
type: Constraint
spec:
  name: DownloadDataFromRemoteWebLocation
  root: WebLocation
  requiresProgram: true
---
type: Constraint
spec:
  name: RemoveFileHeader
  root: FileHeader
  requiresProgram: true
  requires:
    - FileIsDecompressed
---
type: Constraint
spec:
  name: FileIsDecompressed
  root: RemoteStorage
  requires:
    - Decompress
---
type: Constraint
spec:
  name: Decompress
  root: DataCompression
  requires:
    - DecompressGzip
    - DecompressZip
---
type: Constraint
spec:
  name: DecompressGzip
  root: GzipCompression
  requiresProgram: true
  requires:
    - DownloadDataFromRemote
---
type: Constraint
spec:
  name: DecompressZip
  root: ZipCompression
  requiresProgram: true
  requires:
    - DownloadDataFromRemote
---
type: Constraint
spec:
  name: ConvertCSVToOrc
  root: RemoteImportStorageSetup
  requiresProgram: true
---
type: Constraint
spec:
  name: ConvertCSVToOrc2
  root: RemoteImportStorageSetup
  requires:
      - FileReadyForUpload
  requiresProgram: true
---
type: Constraint
spec:
  name: UploadDataToLocal
  root: HiveLocation
  requires:
      - UploadDataToAlluxio
---
type: Constraint
spec:
  name: UploadDataToAlluxio
  root: AlluxioLocation
  requiresProgram: true
  requires:
    - CSVIsConverted
    - ReplicatedSchema
---
type: Constraint
spec:
  name: CSVIsConverted
  root: StaticDataTable
  requires:
    - ConvertToCSV
---
type: Constraint
spec:
  name: ConvertToCSV
  root: RemoteStorage
  requiresProgram: true
  requires:
    - RemoveFileHeader
---
type: Constraint
spec:
  name: ConvertCSVTableToORCTable
  root: HiveTableStorage
  requires:
    - CSVTableSchemasCreated
  requiresProgram: true
